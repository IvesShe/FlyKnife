window.__require=function t(e,n,r){function o(a,c){if(!n[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var h="function"==typeof __require&&__require;if(!c&&h)return h(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return o(e[a][1][t]||t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)o(r[a]);return o}({game:[function(t,e,n){"use strict";cc._RF.push(e,"d0187HSgYVEqrPlyVt/ukAx","game"),cc.Class({extends:cc.Component,properties:{targetNode:cc.Node,knifeNode:cc.Node,knifePrefab:cc.Prefab,restartBtn:cc.Button,messageLabel:cc.Label,scoreValLabel:cc.Label},onLoad:function(){var t=this;this.canThrow=!0,this.targetNode.zIndex=1,this.targetRotation=3,this.knifeNodeArr=[],this.restartBtn.node.active=!1,this.messageLabel.node.active=!1,this.scoreVal=0,this.scoreValLabel.string=this.scoreVal,setInterval(function(){t.changeSpeed()},2e3),this.node.on("touchstart",this.throwKnife,this)},onDestroy:function(){this.node.off("touchstart",this.throwKnife,this)},changeSpeed:function(){var t=Math.random>.5?1:-1,e=1+4*Math.random();this.targetRotation=t*e},onClick_restart:function(){cc.director.loadScene("game")},throwKnife:function(){var t=this;this.canThrow&&(this.canThrow=!1,this.knifeNode.runAction(cc.sequence(cc.moveTo(.15,cc.v2(this.knifeNode.x,this.targetNode.y-this.targetNode.width/2)),cc.callFunc(function(){var e=!1,n=!0,r=!1,o=void 0;try{for(var i,a=t.knifeNodeArr[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;if(Math.abs(c.angle)<15||Math.abs(360-c.angle)<15){e=!0;break}}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}if(e)t.knifeNode.runAction(cc.sequence(cc.spawn(cc.moveTo(.5,cc.v2(t.knifeNode.x,-cc.winSize.height)),cc.rotateTo(.25,30)),cc.callFunc(function(){t.messageLabel.node.active=!0,t.scheduleOnce(function(){t.restartBtn.node.active=!0},2)})));else{var s=cc.instantiate(t.knifePrefab);s.setPosition(t.knifeNode.position),t.node.addChild(s),t.knifeNodeArr.push(s),t.knifeNode.setPosition(cc.v2(0,-300)),t.canThrow=!0,t.scoreVal++,t.scoreValLabel.string=t.scoreVal}}))))},start:function(){},update:function(t){this.targetNode.angle=(this.targetNode.angle+this.targetRotation)%360,cc.log(this.targetNode.angle);var e=!0,n=!1,r=void 0;try{for(var o,i=this.knifeNodeArr[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;a.angle=(a.angle+this.targetRotation)%360;var c=Math.PI*(a.angle-90)/180,s=this.targetNode.width/2;a.x=this.targetNode.x+s*Math.cos(c),a.y=this.targetNode.y+s*Math.sin(c)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}}),cc._RF.pop()},{}]},{},["game"]);